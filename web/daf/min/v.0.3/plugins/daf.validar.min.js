(function(a,k){a.tipo=function(a){return Object.prototype.toString.call(a||this).replace("[object ","").replace("]","")};a.validar=function(f,c){c=c||this;var e=function(c,d){var b;switch(c){case "nif":if(9!=d.length)return!1;var a=d.substr(0,1).toUpperCase();b=d.substr(d.length-1,1);var e=d.substr(1,d.length-2);if(-1=="XYZ".indexOf(a)&&isNaN(parseInt(a))){var g=a=0;b=parseInt(b)?parseInt(b):b.toUpperCase();for(var f=0;f<e.length;f++)g=parseInt(e.charAt(f)),0!=(f+1)%2&&(g=String(2*g),g=1<g.length?
parseInt(g.charAt(0))+parseInt(g.charAt(1)):parseInt(g)),a+=g;a=0!=a%10?10-a%10:0;return isNaN(parseInt(b))?"JABCDEFGHI".charAt(a)==b?!0:!1:a==b?!0:!1}e=isNaN(parseInt(a))?"XYZ".indexOf(a)+e:a+e;b=b.toUpperCase();return"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e%23)==b?!0:!1;case "fecha_sp":return b=/^[0-3]*\d(-|\/)[0-1]?\d(-|\/)\d\d{1,3}$/,""==d||b.test(d)?!0:!1;case "fecha_en":return b=/^\d\d{1,3}(-|\/)[0-1]?\d(-|\/)[0-3]*\d$/,""==d||b.test(d)?!0:!1;case "fecha":return es=/^[0-3]*\d(-|\/)[0-1]?\d(-|\/)\d\d{1,3}$/,
ee=/^\d\d{1,3}(-|\/)[0-1]?\d(-|\/)[0-3]*\d$/,""!=d&&(es.test(d)||ee.test(d)),!0;case "c_postal":return b=/^\d{5}$/,b.test(d)?!0:!1;case "tlfno":return b=/^(\(\+\d{2,3}\))*\d{9}(\(\d{2,5}\))*$/,b.test(d)?!0:!1;case "mail":return b=/^[\w-\.]{3,}@([\w-]{3,}\.)+([\w-]{2,}\.)*[\w-]{2,4}$/,b.test(d)?!0:!1;case "int_u":return b=/^\d+$/,b.test(d)?!0:!1;case "int_s":return b=/^-?\d+$/,b.test(d)?!0:!1;case "float_u":return b=/^\d+\.\d+$/,b.test(d)?!0:!1;case "float_s":return b=/^-?\d+\.\d+$/,b.test(d)?!0:!1;
default:return!1}};switch(a.tipo(c)){case "Number":return e(f,c);case "String":return e(f,c);case "Array":var h=[];c.each(function(a){h[a]=e(f,c[a])});return h;case "Object":return"HTMLInputElement"===a.tipo(c[0])||"HTMLSelectElement"===a.tipo(c[0])?e(f,c[0].value):!1;case "HTMLInputElement":if("text"==a.tipo(c))return e(f,c.value);break;case "HTMLTextAreaElement":return!1;case "HTMLSelectElement":return!1;case "HTMLFormElement":console.log(c.elements);h=[];for(i=0;i<c.elements.length;i++)"text"==
c.elements[i].type&&h.push({obj:c.elements[i],valor:c.elements[i].value,validado:e(c.elements[i].getAttribute("data-tipo"),c.elements[i].value)});return h;default:return!1}};a.eventos.push(["inicio",function(){this.interno.extender({validar:a.validar},String.prototype);this.interno.extender({validar:a.validar},Number.prototype);k&&(k.fn.validar=a.validar,k.fn.tipo=function(){return a.tipo(this[0])})}])})(DAF.API||"undefined"!==typeof window&&window||this,"undefined"!==typeof jQuery?jQuery:!1);
