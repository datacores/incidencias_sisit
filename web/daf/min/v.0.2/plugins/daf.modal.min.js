(function(){function e(a,c){var b=.1,d=setInterval(function(){1<=b&&(clearInterval(d),c&&c());a.style.opacity=b;a.style.filter="alpha(opacity="+100*b+")";b+=.1*b},1)}function f(a,c){var b=1,d=setInterval(function(){.1>=b?(clearInterval(d),c&&c()):(a.style.opacity=b,a.style.filter="alpha(opacity="+100*b+")",b-=.1*b)},1)}Modal=function(){var a=Array.prototype.slice.call(arguments,0);this.alto=screen.height;this.ancho=screen.width;this.body=document.getElementsByTagName("body")[0];this.modal_wrap=document.createElement("div");
this.modal=document.createElement("div");this.btn_close=document.createElement("button");this.x=document.createTextNode("X");this.w=a[0]||"900px";this.h=a[1]||"50%";this.bc=a[2]||!0;this.l=a[3]||"calc((100% - "+this.w+")/2";this.t=a[4]||"calc((100% - "+this.h+")/3";this.p=a[5]||"16px";this.c=a[6]||"#fff";this.b=a[7]||"1px solid rgba(0, 0, 0, .2)";this.r=a[8]||"5px";this.s=a[9]||"0 5px 15px rgba(0, 0, 0, .5)";this.crea_modal()};Modal.prototype.crea_modal=function(){this.modal_wrap.style.opacity=0;
this.modal_wrap.style.filter="alpha(opacity=0)";this.modal_wrap.style.position="absolute";this.modal_wrap.style.zIndex="2000";this.modal_wrap.style.left=0;this.modal_wrap.style.top=0;this.modal_wrap.style.backgroundColor="rgba(0,0,0,0.6)";this.modal_wrap.style.boxSizing="border-box";this.modal_wrap.style.width="100%";this.modal_wrap.style.height="100%";this.modal.style.opacity=0;this.modal.style.filter="alpha(opacity=0)";this.modal.style.position="absolute";this.modal_wrap.style.zIndex="2001";this.modal.style.left=
this.l;this.modal.style.top=this.t;this.modal.style.width=this.w;this.modal.style.height=this.h;this.modal.style.padding=this.p;this.modal.style.backgroundColor=this.c;this.modal.style.border=this.b;this.modal.style.borderRadius=this.r;this.modal.style.boxShadow=this.s;this.bc&&this.add_close()};Modal.prototype.add_close=function(){var a=this;this.modal.appendChild(this.btn_close);var c=this.modal.offsetWidth+7+"px";this.btn_close.style.position="absolute";this.btn_close.style.zIndex="2002";this.btn_close.style.border=
"none";this.btn_close.style.right=c;this.btn_close.style.top="7px";this.btn_close.style.cursor="pointer";this.btn_close.style.backgroundColor="#fff";this.btn_close.appendChild(this.x);this.btn_close.addEventListener("click",function(){a.cierra_modal()})};Modal.prototype.abre_modal=function(a){a=_.isFunction(a)?a:function(){};this.body.appendChild(this.modal_wrap);this.modal_wrap.appendChild(this.modal);this.modal_wrap.style.opacity=1;this.modal_wrap.style.filter="alpha(opacity=100)";e(this.modal,
a(this.modal))};Modal.prototype.cierra_modal=function(){var a=this;f(a.modal,function(){a.modal_wrap.parentNode&&a.modal_wrap.parentNode.removeChild(a.modal_wrap)})};Modal.prototype.set_html=function(a){if("object"===typeof a)this.modal.innerHTML=a.innerHTML;else if(-1==a.search("<")&&-1==a.search(">"))if(document.getElementById(a))this.modal.innerHTML=document.getElementById(a).innerHTML;else throw"identificador o HTML pasado al metodo set_html, no valido";else this.modal.innerHTML=a;this.bc&&this.add_close()};
Modales=function(){for(var a=document.getElementsByClassName("daf_modal"),c={},b=0;b<a.length;b++)a[b].style.display="none",c[a[b].id]=new Modal(a[b].getAttribute("data-width")||!1,a[b].getAttribute("data-height")||!1,a[b].getAttribute("data-close")||!0,a[b].getAttribute("data-left")||!1,a[b].getAttribute("data-top")||!1,a[b].getAttribute("data-padding")||!1,a[b].getAttribute("data-color_fondo")||!1,a[b].getAttribute("data-borde")||!1,a[b].getAttribute("data-radio_borde")||!1,a[b].getAttribute("data-sombra")||
!1),c[a[b].id].set_html(a[b]);return c}})();
