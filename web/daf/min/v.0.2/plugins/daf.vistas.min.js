var Vista=function(){Vista=function(a,b,c,d,e){var f=this;_.isObject(a)?this.template=a:$.ajax({url:a,type:"GET",dataType:"html",async:!1}).done(function(a){f.template=a}).fail(function(a){console.log(a)});this.preprocesa_datos=function(a){return a};this.callback=b;this.contenedor=c;this.insertar=d||!1;this.posicion=e};Vista.prototype.get_datos=function(){return this.datos};Vista.prototype.set_datos=function(a){this.datos=_.isObject(a)?this.preprocesa_datos(a):{}};Vista.prototype.extender_datos=function(a){_.extend(this.datos,
a)};Vista.prototype.set_preprocesa_datos=function(a){_.isFunction(a)&&(this.preprocesa_datos=a)};Vista.prototype.set_callback=function(a){"function"===typeof a?this.callback=a:console.debug("Parametro callback necesita una funci\u00f3n. Parametro pasado:\n"+a)};Vista.prototype.extender_callback=function(a){_.extend(this.callback,a)};Vista.prototype.set_posicion=function(a){this.posicion=a};Vista.prototype.enlazar=function(){return _.template(this.template)(this.datos)};Vista.prototype.render=function(a,
b){a=a||this.datos;b="append"===b||"prepend"===b?b:this.insertar;this.datos=a;this.insertar=b;switch(b){case "append":this.contenedor.append(this.enlazar(a));break;case "prepend":this.contenedor.prepend(this.enlazar(a));break;case !1:this.contenedor.html(""),this.contenedor.html(this.enlazar(a))}"function"===typeof this.callback?this.callback(a,this):!1!==this.callback&&console.debug("Parametro callback necesita una funci\u00f3n. Parametro pasado:\n"+this.callback)};Vista.prototype.set_html=function(a,
b){switch(a){case "append":this.template.append(b);break;case "prepend":this.template.prepend(b)}};return Vista}();
